(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"1wGm":function(t,e,s){"use strict";s.r(e),s.d(e,"JsonPlaceholderModule",function(){return R});var n=s("ofXK"),o=s("8MG2"),i=s("3Pt+"),r=s("PCNd"),a=s("tk/3");class c{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}var d=s("fXoL");const p=new d.r("basePath");class l{constructor(t={}){this.apiKeys=t.apiKeys,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.withCredentials=t.withCredentials,this.encoder=t.encoder,this.credentials=t.credentials?t.credentials:{}}selectHeaderContentType(t){if(0===t.length)return;const e=t.find(t=>this.isJsonMime(t));return void 0===e?t[0]:e}selectHeaderAccept(t){if(0===t.length)return;const e=t.find(t=>this.isJsonMime(t));return void 0===e?t[0]:e}isJsonMime(t){const e=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==t&&(e.test(t)||"application/json-patch+json"===t.toLowerCase())}lookupCredential(t){const e=this.credentials[t];return"function"==typeof e?e():e}}let h=(()=>{class t{constructor(t,e,s){this.httpClient=t,this.basePath="https://jsonplaceholder.typicode.com",this.defaultHeaders=new a.d,this.configuration=new l,s&&(this.configuration=s),"string"!=typeof this.configuration.basePath&&("string"!=typeof e&&(e=this.basePath),this.configuration.basePath=e),this.encoder=this.configuration.encoder||new c}addToHttpParams(t,e,s){return"object"==typeof e&&e instanceof Date==0?this.addToHttpParamsRecursive(t,e):this.addToHttpParamsRecursive(t,e,s)}addToHttpParamsRecursive(t,e,s){if(null==e)return t;if("object"==typeof e)if(Array.isArray(e))e.forEach(e=>t=this.addToHttpParamsRecursive(t,e,s));else if(e instanceof Date){if(null==s)throw Error("key may not be null if value is Date");t=t.append(s,e.toISOString().substr(0,10))}else Object.keys(e).forEach(n=>t=this.addToHttpParamsRecursive(t,e[n],null!=s?`${s}.${n}`:n));else{if(null==s)throw Error("key may not be null if value is not object or array");t=t.append(s,e)}return t}getComment(t,e,s,n,o="body",i=!1,r){if(null==t)throw new Error("Required parameter commentId was null or undefined when calling getComment.");let c=new a.e({encoder:this.encoder});null!=e&&(c=this.addToHttpParams(c,e,"_page")),null!=s&&(c=this.addToHttpParams(c,s,"_limit"));let d=this.defaultHeaders,p=r&&r.httpHeaderAccept;void 0===p&&(p=this.configuration.selectHeaderAccept(["application/json"])),void 0!==p&&(d=d.set("Accept",p));const l=this.configuration.selectHeaderContentType(["application/json"]);void 0!==l&&(d=d.set("Content-Type",l));let h="json";return p&&p.startsWith("text")&&(h="text"),this.httpClient.get(`${this.configuration.basePath}/comments/${encodeURIComponent(String(t))}`,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:d,observe:o,reportProgress:i})}getCommentsByPostId(t,e,s,n="body",o=!1,i){if(null==t)throw new Error("Required parameter postId was null or undefined when calling getCommentsByPostId.");let r=new a.e({encoder:this.encoder});null!=e&&(r=this.addToHttpParams(r,e,"_page")),null!=s&&(r=this.addToHttpParams(r,s,"_limit"));let c=this.defaultHeaders,d=i&&i.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(c=c.set("Accept",d));let p="json";return d&&d.startsWith("text")&&(p="text"),this.httpClient.get(`${this.configuration.basePath}/posts/${encodeURIComponent(String(t))}/comments`,{params:r,responseType:p,withCredentials:this.configuration.withCredentials,headers:c,observe:n,reportProgress:o})}listComments(t,e,s="body",n=!1,o){let i=new a.e({encoder:this.encoder});null!=t&&(i=this.addToHttpParams(i,t,"_page")),null!=e&&(i=this.addToHttpParams(i,e,"_limit"));let r=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(r=r.set("Accept",c));let d="json";return c&&c.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/comments`,{params:i,responseType:d,withCredentials:this.configuration.withCredentials,headers:r,observe:s,reportProgress:n})}newComment(t,e="body",s=!1,n){let o=this.defaultHeaders,i=n&&n.httpHeaderAccept;void 0===i&&(i=this.configuration.selectHeaderAccept(["application/json"])),void 0!==i&&(o=o.set("Accept",i));const r=this.configuration.selectHeaderContentType(["application/json"]);void 0!==r&&(o=o.set("Content-Type",r));let a="json";return i&&i.startsWith("text")&&(a="text"),this.httpClient.post(`${this.configuration.basePath}/comments`,t,{responseType:a,withCredentials:this.configuration.withCredentials,headers:o,observe:e,reportProgress:s})}patchComment(t,e,s="body",n=!1,o){if(null==t)throw new Error("Required parameter commentId was null or undefined when calling patchComment.");let i=this.defaultHeaders,r=o&&o.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["application/json"])),void 0!==r&&(i=i.set("Accept",r));const a=this.configuration.selectHeaderContentType(["application/json"]);void 0!==a&&(i=i.set("Content-Type",a));let c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.patch(`${this.configuration.basePath}/comments/${encodeURIComponent(String(t))}`,e,{responseType:c,withCredentials:this.configuration.withCredentials,headers:i,observe:s,reportProgress:n})}putComment(t,e,s="body",n=!1,o){if(null==t)throw new Error("Required parameter commentId was null or undefined when calling putComment.");let i=this.defaultHeaders,r=o&&o.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["application/json"])),void 0!==r&&(i=i.set("Accept",r));const a=this.configuration.selectHeaderContentType(["application/json"]);void 0!==a&&(i=i.set("Content-Type",a));let c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.put(`${this.configuration.basePath}/comments/${encodeURIComponent(String(t))}`,e,{responseType:c,withCredentials:this.configuration.withCredentials,headers:i,observe:s,reportProgress:n})}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(a.b),d.Tb(p,8),d.Tb(l,8))},t.\u0275prov=d.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u=(()=>{class t{constructor(t,e,s){this.httpClient=t,this.basePath="https://jsonplaceholder.typicode.com",this.defaultHeaders=new a.d,this.configuration=new l,s&&(this.configuration=s),"string"!=typeof this.configuration.basePath&&("string"!=typeof e&&(e=this.basePath),this.configuration.basePath=e),this.encoder=this.configuration.encoder||new c}addToHttpParams(t,e,s){return"object"==typeof e&&e instanceof Date==0?this.addToHttpParamsRecursive(t,e):this.addToHttpParamsRecursive(t,e,s)}addToHttpParamsRecursive(t,e,s){if(null==e)return t;if("object"==typeof e)if(Array.isArray(e))e.forEach(e=>t=this.addToHttpParamsRecursive(t,e,s));else if(e instanceof Date){if(null==s)throw Error("key may not be null if value is Date");t=t.append(s,e.toISOString().substr(0,10))}else Object.keys(e).forEach(n=>t=this.addToHttpParamsRecursive(t,e[n],null!=s?`${s}.${n}`:n));else{if(null==s)throw Error("key may not be null if value is not object or array");t=t.append(s,e)}return t}getPost(t,e="body",s=!1,n){if(null==t)throw new Error("Required parameter postId was null or undefined when calling getPost.");let o=this.defaultHeaders,i=n&&n.httpHeaderAccept;void 0===i&&(i=this.configuration.selectHeaderAccept(["application/json"])),void 0!==i&&(o=o.set("Accept",i));let r="json";return i&&i.startsWith("text")&&(r="text"),this.httpClient.get(`${this.configuration.basePath}/posts/${encodeURIComponent(String(t))}`,{responseType:r,withCredentials:this.configuration.withCredentials,headers:o,observe:e,reportProgress:s})}listPosts(t,e,s,n="body",o=!1,i){let r=new a.e({encoder:this.encoder});null!=t&&(r=this.addToHttpParams(r,t,"title_like")),null!=e&&(r=this.addToHttpParams(r,e,"_page")),null!=s&&(r=this.addToHttpParams(r,s,"_limit"));let c=this.defaultHeaders,d=i&&i.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(c=c.set("Accept",d));let p="json";return d&&d.startsWith("text")&&(p="text"),this.httpClient.get(`${this.configuration.basePath}/posts`,{params:r,responseType:p,withCredentials:this.configuration.withCredentials,headers:c,observe:n,reportProgress:o})}newPost(t,e="body",s=!1,n){let o=this.defaultHeaders,i=n&&n.httpHeaderAccept;void 0===i&&(i=this.configuration.selectHeaderAccept(["application/json"])),void 0!==i&&(o=o.set("Accept",i));const r=this.configuration.selectHeaderContentType(["application/json"]);void 0!==r&&(o=o.set("Content-Type",r));let a="json";return i&&i.startsWith("text")&&(a="text"),this.httpClient.post(`${this.configuration.basePath}/posts`,t,{responseType:a,withCredentials:this.configuration.withCredentials,headers:o,observe:e,reportProgress:s})}patchPost(t,e,s="body",n=!1,o){if(null==t)throw new Error("Required parameter postId was null or undefined when calling patchPost.");let i=this.defaultHeaders,r=o&&o.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["application/json"])),void 0!==r&&(i=i.set("Accept",r));const a=this.configuration.selectHeaderContentType(["application/json"]);void 0!==a&&(i=i.set("Content-Type",a));let c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.patch(`${this.configuration.basePath}/posts/${encodeURIComponent(String(t))}`,e,{responseType:c,withCredentials:this.configuration.withCredentials,headers:i,observe:s,reportProgress:n})}putPost(t,e,s="body",n=!1,o){if(null==t)throw new Error("Required parameter postId was null or undefined when calling putPost.");let i=this.defaultHeaders,r=o&&o.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["application/json"])),void 0!==r&&(i=i.set("Accept",r));const a=this.configuration.selectHeaderContentType(["application/json"]);void 0!==a&&(i=i.set("Content-Type",a));let c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.put(`${this.configuration.basePath}/posts/${encodeURIComponent(String(t))}`,e,{responseType:c,withCredentials:this.configuration.withCredentials,headers:i,observe:s,reportProgress:n})}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(a.b),d.Tb(p,8),d.Tb(l,8))},t.\u0275prov=d.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),f=(()=>{class t{constructor(t,e,s){this.httpClient=t,this.basePath="https://jsonplaceholder.typicode.com",this.defaultHeaders=new a.d,this.configuration=new l,s&&(this.configuration=s),"string"!=typeof this.configuration.basePath&&("string"!=typeof e&&(e=this.basePath),this.configuration.basePath=e),this.encoder=this.configuration.encoder||new c}addToHttpParams(t,e,s){return"object"==typeof e&&e instanceof Date==0?this.addToHttpParamsRecursive(t,e):this.addToHttpParamsRecursive(t,e,s)}addToHttpParamsRecursive(t,e,s){if(null==e)return t;if("object"==typeof e)if(Array.isArray(e))e.forEach(e=>t=this.addToHttpParamsRecursive(t,e,s));else if(e instanceof Date){if(null==s)throw Error("key may not be null if value is Date");t=t.append(s,e.toISOString().substr(0,10))}else Object.keys(e).forEach(n=>t=this.addToHttpParamsRecursive(t,e[n],null!=s?`${s}.${n}`:n));else{if(null==s)throw Error("key may not be null if value is not object or array");t=t.append(s,e)}return t}getUser(t,e,s,n,o="body",i=!1,r){if(null==t)throw new Error("Required parameter userId was null or undefined when calling getUser.");let c=new a.e({encoder:this.encoder});null!=e&&(c=this.addToHttpParams(c,e,"_page")),null!=s&&(c=this.addToHttpParams(c,s,"_limit"));let d=this.defaultHeaders,p=r&&r.httpHeaderAccept;void 0===p&&(p=this.configuration.selectHeaderAccept(["application/json"])),void 0!==p&&(d=d.set("Accept",p));const l=this.configuration.selectHeaderContentType(["application/json"]);void 0!==l&&(d=d.set("Content-Type",l));let h="json";return p&&p.startsWith("text")&&(h="text"),this.httpClient.get(`${this.configuration.basePath}/users/${encodeURIComponent(String(t))}`,{params:c,responseType:h,withCredentials:this.configuration.withCredentials,headers:d,observe:o,reportProgress:i})}listUsers(t,e,s="body",n=!1,o){let i=new a.e({encoder:this.encoder});null!=t&&(i=this.addToHttpParams(i,t,"_page")),null!=e&&(i=this.addToHttpParams(i,e,"_limit"));let r=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(r=r.set("Accept",c));let d="json";return c&&c.startsWith("text")&&(d="text"),this.httpClient.get(`${this.configuration.basePath}/users`,{params:i,responseType:d,withCredentials:this.configuration.withCredentials,headers:r,observe:s,reportProgress:n})}newUser(t,e="body",s=!1,n){let o=this.defaultHeaders,i=n&&n.httpHeaderAccept;void 0===i&&(i=this.configuration.selectHeaderAccept(["application/json"])),void 0!==i&&(o=o.set("Accept",i));const r=this.configuration.selectHeaderContentType(["application/json"]);void 0!==r&&(o=o.set("Content-Type",r));let a="json";return i&&i.startsWith("text")&&(a="text"),this.httpClient.post(`${this.configuration.basePath}/users`,t,{responseType:a,withCredentials:this.configuration.withCredentials,headers:o,observe:e,reportProgress:s})}patchUser(t,e,s="body",n=!1,o){if(null==t)throw new Error("Required parameter userId was null or undefined when calling patchUser.");let i=this.defaultHeaders,r=o&&o.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["application/json"])),void 0!==r&&(i=i.set("Accept",r));const a=this.configuration.selectHeaderContentType(["application/json"]);void 0!==a&&(i=i.set("Content-Type",a));let c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.patch(`${this.configuration.basePath}/users/${encodeURIComponent(String(t))}`,e,{responseType:c,withCredentials:this.configuration.withCredentials,headers:i,observe:s,reportProgress:n})}putUser(t,e,s="body",n=!1,o){if(null==t)throw new Error("Required parameter userId was null or undefined when calling putUser.");let i=this.defaultHeaders,r=o&&o.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["application/json"])),void 0!==r&&(i=i.set("Accept",r));const a=this.configuration.selectHeaderContentType(["application/json"]);void 0!==a&&(i=i.set("Content-Type",a));let c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.put(`${this.configuration.basePath}/users/${encodeURIComponent(String(t))}`,e,{responseType:c,withCredentials:this.configuration.withCredentials,headers:i,observe:s,reportProgress:n})}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(a.b),d.Tb(p,8),d.Tb(l,8))},t.\u0275prov=d.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=s("tyNb"),m=s("cp0P"),g=s("5+tZ"),y=s("lJxs"),v=s("zy28"),w=s("0zEo");function P(t,e){if(1&t){const t=d.Qb();d.Pb(0,"div",7),d.Pb(1,"div",8),d.vc(2),d.Ob(),d.Pb(3,"div",9),d.Pb(4,"div",10),d.vc(5),d.Ob(),d.Ob(),d.Pb(6,"div",11),d.Pb(7,"small"),d.Pb(8,"div"),d.vc(9),d.Ob(),d.Pb(10,"div"),d.Pb(11,"span"),d.vc(12),d.Ob(),d.Pb(13,"button",12),d.Wb("click",function(){d.nc(t);const s=e.$implicit,n=d.Zb(),o=d.kc(5);return n.selectedPost=s,o.openModal()}),d.vc(14,"show comments"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()}if(2&t){const t=e.$implicit;d.yb(2),d.wc(t.post.title),d.yb(3),d.xc(" ",t.post.body," "),d.yb(4),d.xc("user: ",t.user.name,""),d.yb(3),d.xc("comments: ",t.comments.length,"")}}function C(t,e){if(1&t&&(d.Pb(0,"p"),d.vc(1),d.Ob()),2&t){const t=e.$implicit;d.yb(1),d.zc(" ",t.body," ",t.name," ",t.email," ")}}function H(t,e){if(1&t&&(d.Pb(0,"div",13),d.tc(1,C,2,3,"p",14),d.Ob()),2&t){const t=d.Zb();d.yb(1),d.ec("ngForOf",t.selectedPost.comments)}}let T=(()=>{class t{constructor(t,e,s){this.postsService=t,this.commentService=e,this.usersService=s,this.data=[],this.selectedPost=void 0,this.postsService.listPosts().pipe(Object(g.a)(t=>Object(m.a)(this.getPostsComments(t)))).pipe(Object(g.a)(t=>Object(m.a)(this.getPostsUsers(t)))).subscribe(t=>{console.log("full load res:",t),this.data=t})}getPostsComments(t){return t.map(t=>this.commentService.getCommentsByPostId((null==t?void 0:t.id)||0).pipe(Object(y.a)(e=>({post:t,comments:e}))))}getPostsUsers(t){return t.map(t=>this.usersService.getUser((null==t?void 0:t.post.userId)||0).pipe(Object(y.a)(e=>({post:t.post,comments:t.comments,user:e}))))}}return t.\u0275fac=function(e){return new(e||t)(d.Jb(u),d.Jb(h),d.Jb(f))},t.\u0275cmp=d.Db({type:t,selectors:[["app-json-placeholder-main"]],decls:12,vars:5,consts:[["class","card",4,"ngFor","ngForOf"],[3,"title","showCancelButton","showOkButton"],["refComments",""],["class","body",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-outline",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"card"],[1,"card-header"],[1,"card-block"],[1,"card-text"],[1,"card-footer"],[3,"click"],[1,"body"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t){const t=d.Qb();d.Kb(0,"app-shared-loading-spinner"),d.Pb(1,"h1"),d.vc(2,"json-placeholder: posts + comments + user"),d.Ob(),d.tc(3,P,15,4,"div",0),d.Pb(4,"app-shared-modal",1,2),d.tc(6,H,2,1,"div",3),d.Pb(7,"div",4),d.Pb(8,"button",5),d.Wb("click",function(){return d.nc(t),d.kc(5).closeModal()}),d.vc(9," Cancel "),d.Ob(),d.Pb(10,"button",6),d.Wb("click",function(){return d.nc(t),d.kc(5).closeModal()}),d.vc(11," Ok "),d.Ob(),d.Ob(),d.Ob()}2&t&&(d.yb(3),d.ec("ngForOf",e.data),d.yb(1),d.ec("title",(null==e.selectedPost?null:e.selectedPost.post.title)||"")("showCancelButton",!1)("showOkButton",!1),d.yb(2),d.ec("ngIf",e.selectedPost))},directives:[v.a,n.l,w.a,n.m],encapsulation:2}),t})();const j=[{path:"",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Db({type:t,selectors:[["app-json-placeholder"]],decls:1,vars:0,template:function(t,e){1&t&&d.Kb(0,"router-outlet")},directives:[b.d],encapsulation:2}),t})(),children:[{path:"home",component:T},{path:"",redirectTo:"home",pathMatch:"full"}]}];let A=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(e){return new(e||t)},imports:[[b.c.forChild(j)],b.c]}),t})(),R=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(e){return new(e||t)},providers:[h,u,f],imports:[[n.c,i.p,r.a,o.a,A]]}),t})()}}]);